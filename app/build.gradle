apply plugin: 'com.android.application'
apply plugin: 'me.tatarka.retrolambda'

android {
  compileSdkVersion rootProject.ext.androidCompileSdkVersion
  buildToolsVersion rootProject.ext.androidBuildToolsVersion
  defaultConfig {
    applicationId "com.leodeleon.popmovies"
    minSdkVersion rootProject.ext.androidMinSdkVersion
    targetSdkVersion rootProject.ext.androidTargetSdkVersion
    versionCode 1
    versionName "1.0"
    testInstrumentationRunner "android.support.test.runner.AndroidJUnitRunner"
    vectorDrawables.useSupportLibrary = true
  }
  signingConfigs {
    release
  }
  compileOptions {
    sourceCompatibility JavaVersion.VERSION_1_8
    targetCompatibility JavaVersion.VERSION_1_8
  }
  buildTypes {
    release {
      signingConfig signingConfigs.release
      minifyEnabled false
      proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
    }
    buildTypes.each {
      it.buildConfigField 'String', 'MOVIE_DB_API_KEY', MovieDBApiKey
      it.buildConfigField 'String', 'GOOGLE_APIS_KEY', DeveloperConsoleApiKey
    }
  }
  configurations.all {
    resolutionStrategy.force 'com.google.code.findbugs:jsr305:2.0.1'
  }
}



dependencies {
  Map<String, String> dependencies = rootProject.ext.dependencies;

  compile fileTree(dir: 'libs', include: ['*.jar'])
  androidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', {
    exclude group: 'com.android.support', module: 'support-annotations'
  })

  //support
  compile dependencies.appcompat
  compile dependencies.support
  compile dependencies.design
  compile dependencies.recyclerview
  compile dependencies.cardview
  compile dependencies.customTabs

  //firebase
  compile dependencies.firebaseCrash

  //networking

  compile dependencies.gson
  compile dependencies.retrofit
  compile dependencies.retrofitGson
  compile dependencies.retrofitRxJava
  compile dependencies.rxjava
  compile dependencies.rxandroid
  compile dependencies.okhttp

  compile dependencies.glide
  //DI
  compile dependencies.butterknife
  annotationProcessor dependencies.butterknifeCompiler

  compile dependencies.dagger
  compile dependencies.daggerAndroid
  compile dependencies.daggerAndroidSupport
  annotationProcessor dependencies.daggerCompiler
  annotationProcessor dependencies.daggerAndroidProcessor

  compile dependencies.lifecycle
  annotationProcessor dependencies.lifecycleCompiler

  compile dependencies.room
  compile dependencies.roomRxJava
  annotationProcessor dependencies.roomCompiler

  debugCompile dependencies.chuck
  releaseCompile dependencies.chuckNoOp

  compile dependencies.rxBindings
  compile dependencies.rxBindingsSupport
  compile dependencies.rxBindingsDesign
  compile dependencies.rxBindingsAppCompat
  compile dependencies.rxBindingsRecycler

  //custom views
  compile 'net.opacapp:multiline-collapsingtoolbar:1.3.1'
  compile 'com.jpardogo.materialtabstrip:library:1.1.1'

  compile files('libs/YouTubeAndroidPlayerApi.jar')
  testCompile 'junit:junit:4.12'
}

apply plugin: 'com.google.gms.google-services'
